/**
 * Menu in header styles
 *
 * @author Viacheslav Lotsmanov
 * @license GNU/AGPLv3
 * @see {@link https://github.com/web-izmerenie/wi-site/blob/master/LICENSE-AGPLv3|License}
 */

.call-menu
	display block
	text-decoration none
	absolute(28px, 0)
	size(($icons.show-menu.width), ($icons.show-menu.height))
	z-index 2
	opacity 0
	transition opacity $animation-speed $animation-curve,
		right $animation-speed $animation-curve

	@media (max-width: ($responsive-2))
		transform scale(0.74)
		top (28px - (35px - 28px))

	&:before, &:after
		pseudo-block()
		absolute(0, auto, auto, 0)
		transition opacity $animation-speed $animation-curve,
			transform $animation-speed $animation-curve
		transform rotate(0deg)

	&:before
		icon($icons.show-menu)
		opacity 1

	&:after
		icon($icons.show-menu-active)
		opacity 0

	body.loaded &
		right 29px
		opacity 1

		@media (max-width: ($responsive-2))
			right (29px - (36px - 29px))

.menu
	$menu-text-color = #9daeb8
	$menu-active-text-color = #f5ce08
	$menu-active-bg-color = #122939
	$menu-text-fs-2 = 15px
	$menu-text-fs-3 = 18px
	$menu-margin = 23px

	display block
	background $header-bg-color
	size 100% 0%
	z-index 0
	absolute(0, 0)
	overflow hidden
	transition height $animation-speed $animation-curve

	nav
		size auto 100%
		absolute(0, 113px)
		white-space nowrap

		@media (max-width: ($responsive-2))
			right 99px

		& > a, & > span
			text-decoration none
			display inline-block
			size auto, 100%
			custom-font(
				'Proxima Nova Rg', normal,
				$menu-text-fs-3, ($menu-text-fs-3 + 2px))
			box-sizing border-box
			text-transform uppercase
			color $menu-text-color
			margin-left $menu-margin
			padding-top (61px - 16px)
			transition color $animation-speed $animation-curve

			@media (max-width: ($responsive-2))
				padding-top (54px - 13px)
				font-metrics($menu-text-fs-2, ($menu-text-fs-2 + 2px))

			&:first-child
				margin-left 0

		& > a.active, & > span
			background $menu-active-bg-color
			color $menu-active-text-color
			custom-font(
				'Proxima Nova Rg', bold,
				$menu-text-fs, ($menu-text-fs + 2px))
			padding-x $menu-margin

		& > a:hover, & > a.active:hover
			color white

&.menu-active
	.call-menu
		&:before, &:after
			transform rotate(90deg)
		&:before
			opacity 0
		&:after
			opacity 1

	.menu
		height 100%
